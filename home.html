<!DOCTYPE html>
<html lang="de">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Intranet TAXUS</title>
    <style>
      body {
        background-color: #2e2e2e; /* Anthrazit */
        color: #00ff00; /* Terminalgrün */
        font-family: "Courier New", Courier, "Lucida Console", monospace; /* Typische Terminalschrift */
        margin: 0;
        height: 100vh;
        display: flex;
        justify-content: center;
        align-items: center;
      }
      #terminal {
        background-color: #2e2e2e; /* Anthrazit */
        color: #00ff00; /* Terminalgrün */
        width: 80%;
        height: 70%;
        padding: 20px;
        border: 1px solid #00ff00;
        overflow-y: auto;
        white-space: pre-wrap;
        position: relative;
        display: flex;
        flex-direction: column;
        justify-content: flex-end;
      }
      #terminal::-webkit-scrollbar {
        width: 0px;
        background: transparent; /* Make scrollbar invisible */
      }
      #ascii-art-container {
        display: flex;
        justify-content: center;
        align-items: center;
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        pointer-events: none;
      }
      #ascii-art {
        color: red;
        opacity: 0.5;
        font-family: "Courier New", Courier, "Lucida Console", monospace; /* Typische Terminalschrift */
        white-space: pre;
      }
      #output {
        z-index: 1;
        overflow-y: auto;
        flex-grow: 1;
      }
      #output::-webkit-scrollbar {
        width: 0px;
        background: transparent; /* Make scrollbar invisible */
      }
      #input-container {
        display: flex;
        align-items: center;
        z-index: 1;
        width: 100%;
      }
      #prompt {
        margin-right: 5px;
      }
      #input-line {
        background: none;
        border: none;
        color: #00ff00;
        font-family: "Courier New", Courier, "Lucida Console", monospace; /* Typische Terminalschrift */
        font-size: 1em;
        width: 100%;
        outline: none;
      }
      .output {
        margin: 0 0 10px 0; /* Margin to separate output lines */
      }
      .cursor {
        display: inline-block;
        background-color: #00ff00;
        margin-left: 2px;
        animation: blink 1s steps(2, start) infinite;
      }
      @keyframes blink {
        0% {
          opacity: 1;
        }
        50% {
          opacity: 0;
        }
        100% {
          opacity: 1;
        }
      }
      .color1 {
        color: #ff4500;
      } /* Orange Red */
      .color2 {
        color: #1e90ff;
      } /* Dodger Blue */
      .color3 {
        color: #32cd32;
      } /* Lime Green */

      /* Anpassungen für mobile Geräte */
      @media (max-width: 600px) {
        #terminal {
          width: 100%;
          height: 90%;
          padding: 10px;
        }
        #input-line {
          font-size: 1.2em; /* Größere Schrift für bessere Lesbarkeit */
        }
        #ascii-art {
          font-size: 0.8em; /* Kleinere ASCII-Art für mobile Geräte */
        }
      }
    </style>
  </head>
  <body>
    <div id="terminal">
      <div id="ascii-art-container">
        <pre id="ascii-art">
                  * *    
               *    *  *
          *  *    *     *  *
         *     *    *  *    *
     * *   *    *    *    *   *
     *     *  *    * * .#  *   *
     *   *     * #.  .# *   *
      *     "#.  #: #" * *    *
     *   * * "#. ##"       *
       *       "###
                 "##
                  ##.
                  .##:
                  :###
                  ;###
                ,####.
    /\/\/\/\/\/.######.\/\/\/\/\
             Station TAXUS
            </pre
        >
      </div>
      <div id="output"></div>
      <div id="input-container">
        <span id="prompt">user@TAXUS.net&gt;</span>
        <input id="input-line" type="text" autofocus autocomplete="off" />
        <div class="cursor"></div>
      </div>
    </div>
    <script>
      document.addEventListener("DOMContentLoaded", function () {
        const inputLine = document.getElementById("input-line");
        const cursor = document.querySelector(".cursor");
        const output = document.getElementById("output");

        // Beschreibungstexte für die Befehle
        const commandDescriptions = {
          clear: "Löscht das Terminalfenster.",
          help: "Zeigt die Liste der verfügbaren Befehle an.",
          about: "Zeigt Informationen über diese simulierte Terminal-Seite an.",
          projects:
            'Zeigt die verfügbaren Projekte an, außer Projekten, die mit "x" beginnen.',
          contact: "Zeigt Kontaktinformationen an.",
          organigram:
            'Zeigt das Organigram der Forschungseinrichtung "Station Taxus" an.',
        };

        // Funktionalität der Befehle
        const commands = {
          clear: function () {
            output.innerHTML = "";
          },
          help: function () {
            return Object.keys(commandDescriptions)
              .map((cmd) => `<b>${cmd}</b>: ${commandDescriptions[cmd]}`)
              .join("\n");
          },
          about: function () {
            return "Dies ist eine simulierte Terminal-Seite.";
          },
          projects: function () {
            const projectList = Object.keys(projects)
              .filter((proj) => !proj.startsWith("x"))
              .join(", ");
            return `Verfügbare Projekte: ${projectList}`;
          },
          contact: function () {
            return "Kontakt: email@example.com";
          },
          organigram: function () {
            return `
Organigram der Forschungseinrichtung "Station Taxus"
    Direktor: Dr. Sarah Schmidt
    |
    +-- Leiter A: Max Mustermann
    |   +-- Forscher A1: Anna Müller
    |   +-- Forscher A2: Bernd Schmitz
    |   +-- Forscher A3: Claudia Klein
    |
    +-- Leiter B: Erika Musterfrau
    |   +-- Forscher B1: Daniel Braun
    |   +-- Forscher B2: Eva Fischer
    |   +-- Forscher B3: Frank Meier
    |
    +-- Leiter C: John Doe
        +-- Forscher C1: Gina Schulz
        +-- Forscher C2: Hans Becker
        +-- Forscher C3: Ines Wagner
        +-- Forscher C4: Jan Neumann
        +-- Forscher C5: Katrin Hoffmann
        +-- Forscher C6: Leon Zimmermann
        +-- Forscher C7: Marie Krüger
        +-- Forscher C8: Nico Schröder
                    `;
          },
        };

        // Projektdefinitionen
        const projects = {
          gasPipeline: `
Projektname: <span class="color1">Gas Pipeline Expansion</span>
Beschreibung:
    Dieses Projekt umfasst die Erweiterung des bestehenden Gasleitungsnetzes, um die Versorgungssicherheit zu erhöhen. 
    Es wird über 300 Kilometer neue Leitungen verlegt, die die Verteilung von Erdgas in ländliche Gebiete verbessern.
Ziele:
    1. Erhöhung der Versorgungssicherheit
    2. Anbindung neuer Regionen
    3. Kapazitätserweiterung
Status: In Bearbeitung
Verantwortlicher: Max Mustermann
                `,
          gasStorage: `
Projektname: <span class="color2">Gas Storage Facility</span>
Beschreibung:
    Aufbau einer neuen Gasspeicheranlage zur Lagerung von überschüssigem Erdgas während der Sommermonate. 
    Die Anlage hat eine Kapazität von 50 Millionen Kubikmetern und soll helfen, Versorgungsengpässe im Winter zu vermeiden.
Ziele:
    1. Erhöhung der Speicherkapazität
    2. Versorgungssicherheit im Winter
    3. Optimierung der Gasversorgung
Status: Abgeschlossen
Verantwortlicher: Erika Musterfrau
                `,
          gasConversion: `
Projektname: <span class="color3">Gas-to-Liquid Conversion Plant</span>
Beschreibung:
    Entwicklung einer Anlage zur Umwandlung von Erdgas in flüssige Brennstoffe wie Diesel und Kerosin. 
    Dies ermöglicht eine flexiblere Nutzung von Erdgas und reduziert die Abhängigkeit von importierten Flüssigbrennstoffen.
Ziele:
    1. Diversifizierung der Energiequellen
    2. Erhöhung der Energieunabhängigkeit
    3. Innovation in der Gasverarbeitung
Status: Geplant
Verantwortlicher: John Doe
                `,
          xrayAnalysis: `
Projektname: <span class="color1">X-Ray Analysis Improvement</span>
Beschreibung:
    Dieses Projekt zielt darauf ab, die Technologie der Röntgenanalyse zu verbessern, um genauere und schnellere Ergebnisse zu erzielen.
Ziele:
    1. Verbesserung der Bildqualität
    2. Reduzierung der Analysezeit
    3. Erhöhung der Sicherheit für Benutzer
Status: In Bearbeitung
Verantwortlicher: Dr. Xenia Zahn
                `,
        };

        // Command and Project List for Autocomplete
        const commandList = Object.keys(commandDescriptions).concat(
          Object.keys(projects)
            .filter((proj) => !proj.startsWith("x"))
            .map((proj) => "projects " + proj)
        );

        let commandHistory = [];
        let historyIndex = -1;

        // Function to set cursor position at the end
        function setCursorToEnd(element) {
          setTimeout(() => {
            element.setSelectionRange(
              element.value.length,
              element.value.length
            );
          }, 0);
        }

        // Execute command and display output
        function executeCommand(command) {
          const args = command.split(" ");
          let response;

          if (args[0] === "projects" && args.length > 1) {
            const projectName = args.slice(1).join(" ");
            response =
              projects[projectName] || `Projekt nicht gefunden: ${projectName}`;
          } else if (commands[args[0]]) {
            response = commands[args[0]]();
          } else {
            response = `Befehl nicht gefunden: ${command}`;
          }

          if (response) {
            const responseElement = document.createElement("p");
            responseElement.className = "output";
            responseElement.innerHTML = response.replace(/\n/g, "<br>");
            output.appendChild(responseElement);
          }

          if (args[0] !== "clear") {
            const inputElement = document.createElement("p");
            inputElement.className = "output";
            inputElement.textContent = `user@TAXUS.net> ${command}`;
            output.appendChild(inputElement);
          }
          output.scrollTop = output.scrollHeight;
        }

        // Autocomplete function for command suggestions
        function autocomplete(input) {
          if (!input) return "";
          const args = input.split(" ");
          let matches = [];
          if (args.length === 1) {
            matches = commandList.filter((cmd) => cmd.startsWith(input));
          } else if (args[0] === "projects" && args.length === 2) {
            matches = Object.keys(projects)
              .filter((proj) => !proj.startsWith("x"))
              .map((proj) => "projects " + proj)
              .filter((cmd) => cmd.startsWith(args[0] + " " + args[1]));
          }
          if (matches.length === 1) {
            return matches[0];
          } else if (matches.length > 1) {
            const suggestionElement = document.createElement("p");
            suggestionElement.className = "output";
            suggestionElement.innerHTML =
              "Mögliche Befehle: " + matches.join(", ");
            output.appendChild(suggestionElement);
            output.scrollTop = output.scrollHeight;
          }
          return input;
        }

        // Event listener for handling user input
        inputLine.addEventListener("keydown", function (event) {
          cursor.style.display = "none";
          if (event.key === "Enter") {
            const command = inputLine.value.trim();
            if (command) {
              commandHistory.push(command);
              historyIndex = commandHistory.length;
              inputLine.value = "";
              executeCommand(command);
            }
          } else if (event.key === "ArrowUp") {
            if (historyIndex > 0) {
              historyIndex--;
              inputLine.value = commandHistory[historyIndex];
              setCursorToEnd(inputLine);
            }
          } else if (event.key === "ArrowDown") {
            if (historyIndex < commandHistory.length - 1) {
              historyIndex++;
              inputLine.value = commandHistory[historyIndex];
            } else {
              historyIndex = commandHistory.length;
              inputLine.value = "";
            }
            setCursorToEnd(inputLine);
          } else if (event.key === "Tab") {
            event.preventDefault();
            const completed = autocomplete(inputLine.value);
            inputLine.value = completed;
            setCursorToEnd(inputLine);
          }
        });

        // Cursor visibility control
        inputLine.addEventListener("keyup", function () {
          cursor.style.display = "inline-block";
        });
        inputLine.addEventListener("focus", function () {
          cursor.style.display = "inline-block";
        });
        inputLine.addEventListener("blur", function () {
          cursor.style.display = "none";
        });
      });
    </script>
  </body>
</html>
